<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Posteffects # Prompt: Implement some posteffects you find interesting.
Posteffects are, in the simplest way, effects thhat are applied to an image after it has been rendered. This effects can range from simple xoom lenses to kaleidoscopes or fish eye lenses like the one I implemented for this excercise.
Fish Eye Lens effect # The fish eye lens effect refers to a distinctive visual distortion created by a special type of camera lens known as a fish eye lens."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Posteffects # Prompt: Implement some posteffects you find interesting.
Posteffects are, in the simplest way, effects thhat are applied to an image after it has been rendered. This effects can range from simple xoom lenses to kaleidoscopes or fish eye lenses like the one I implemented for this excercise.
Fish Eye Lens effect # The fish eye lens effect refers to a distinctive visual distortion created by a special type of camera lens known as a fish eye lens."><meta property="og:type" content="article"><meta property="og:url" content="https://andryut.github.io/showcase/docs/exercises/Post-Effect/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T22:41:32-05:00"><title>Post Effect | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/showcase/docs/team/>Team</a><ul></ul></li><li class=book-section-flat><a href=/showcase/docs/exercises/>Exercises</a><ul><li><a href=/showcase/docs/exercises/Coloring/>Coloring</a></li><li><a href=/showcase/docs/exercises/Depth-Perception/>Depth Perception</a></li><li><a href=/showcase/docs/exercises/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/exercises/Mach-Bands/>Mach Bands</a></li><li><a href=/showcase/docs/exercises/Masking/>Masking</a></li><li><a href=/showcase/docs/exercises/Photomosaic/>Photomosaic</a></li><li><a href=/showcase/docs/exercises/Post-Effect/ class=active>Post Effect</a></li><li><a href=/showcase/docs/exercises/Spatial-Coherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/exercises/Temporal-Coherence/>Temporal Coherence</a></li><li><a href=/showcase/docs/exercises/Visual-Illusions/>Visual Illusions</a></li></ul></li><li><input type=checkbox id=section-9370f1a5d0248572ac505e0c6d4ad190 class=toggle>
<label for=section-9370f1a5d0248572ac505e0c6d4ad190 class="flex justify-between"><a href=/showcase/docs/shortcodes/>Shortcodes</a></label><ul><li><a href=/showcase/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tabs/>Tabs</a></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Post Effect</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#posteffects>Posteffects</a><ul><li><a href=#fish-eye-lens-effect>Fish Eye Lens effect</a></li><li><a href=#how-was-the-effect-achieved>How was the effect achieved</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=posteffects>Posteffects
<a class=anchor href=#posteffects>#</a></h1><blockquote><p><strong>Prompt:</strong> Implement some posteffects you find interesting.</p></blockquote><p>Posteffects are, in the simplest way, effects thhat are applied to an image after it has been rendered. This effects can range from simple xoom lenses to kaleidoscopes or fish eye lenses like the one I implemented for this excercise.</p><h2 id=fish-eye-lens-effect>Fish Eye Lens effect
<a class=anchor href=#fish-eye-lens-effect>#</a></h2><p>The fish eye lens effect refers to a distinctive visual distortion created by a special type of camera lens known as a fish eye lens. This lens has an extremely wide-angle field of view, often reaching up to 180 degrees or more. It captures a significantly broader perspective than a standard lens, resulting in a unique and exaggerated distortion.</p><p>The primary characteristic of the fish eye lens effect is the significant curvature and barrel distortion it introduces to the captured image. Straight lines near the edges of the frame appear to curve outward, creating a convex shape. This distortion gives the impression of a rounded or &ldquo;fish eye&rdquo; view, hence the name.</p><p>Fish eye lenses can be categorized into two main types: circular fish eye (lik the one repoduced in this exercise) and full-frame fish eye. Circular fish eye lenses produce a fully circular image within the camera&rsquo;s frame, while full-frame fish eye lenses capture a broader field of view that fills the entire frame.</p><p><img src=https://www.shutterbug.com/images/styles/600_wide/public/M%20Teaser.jpg alt="10 Tips for Shooting with a Circular Fisheye Lens | Shutterbug"></p><blockquote><p>Example of a circular fish eye lens.</p></blockquote><h2 id=how-was-the-effect-achieved>How was the effect achieved
<a class=anchor href=#how-was-the-effect-achieved>#</a></h2><p>To achieve this effect in the p5.js implementation I first loaded the pixels of the image through the <strong>loadPixels()</strong> function into the <strong>pixels</strong> array and to properly load all the pixels of the image i used a loop to iterate over the whole image.</p><p>Each loaded pixel has a <strong>y</strong> and <strong>x</strong> coordinates that are used to locate the pixels in the image. The <strong>dx</strong> and <strong>dy</strong> are calculated by substracting the mouse´s x and y positions from the current pixel´s coordinates. These variables represent the distances between the current pixel and the mouse position.</p><p>The final distance is calculated using the Euclidean distance formula of <em><strong>sqrt(dx * dx + dy * dy)</strong></em> . This helps us find the distance between the pixel and the lens radius, and if this distance is less than the lens radius it means that the current pixel falls within the lens´s boundaries, thus the fish eye lens effect is applied.</p><p>Now that we know when a pixel is within the lens´s boundaries, the effect needs to be applied. The first step to do so is to calculate the normalized distance <strong>r</strong> from the mouse position to the current pixel eithin the lens area, this is achieved by calculating <em><strong>distance/lensRadius</strong></em>. After this is necessary to calculate the angle from the mouse position to the pixel, this is done useing <em><strong>atan2(dy, dx)</strong></em> and it´s value is asingned to the variable <strong>theta</strong>.</p><p>Then, the distorition is calculated using the <strong>xDistroted</strong> and <strong>yDistorited</strong> variables. They use the <em><strong>(r * r * lensRadius * distortionFactor) * cos(theta)</strong></em> and <em><strong>(r * r * lensRadius * distortionFactor) * sin(theta)</strong></em> formulas respectively.</p><p>Finnaly, the <strong>indexDistorted</strong> variable is calculated to determine the indezx of the distorted pixel in the <strong>pixels</strong> array. This index is used to retrieve the color values of the distorted pixel, and these values are copied to the current pixel in the <strong>pixels</strong> array. After all of that, the <strong>updatePixels()</strong> function is calle to update the display window with the modified <strong>pixels</strong> array.</p><iframe id=post_effect style=width:600px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/exercises/post_effect/post_effect.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/5d97ef0f81fbb376bfa1d302c243102c47c900b2 title='Last modified by dmateusb | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#posteffects>Posteffects</a><ul><li><a href=#fish-eye-lens-effect>Fish Eye Lens effect</a></li><li><a href=#how-was-the-effect-achieved>How was the effect achieved</a></li></ul></li></ul></nav></div></aside></main></body></html>